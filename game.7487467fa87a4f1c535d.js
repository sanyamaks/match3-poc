!function(){"use strict";var t,n={950:function(t,n,o){var i=o(311),e=o(358),a=new(o(146).Z);window.addEventListener("resize",(function(){var t=window.innerWidth,n=window.innerHeight;a.emit("resize",t,n)}));var r=a;function s(t,n,o,i,e,a,r){try{var s=t[a](r),u=s.value}catch(t){return void o(t)}s.done?n(u):Promise.resolve(u).then(i,e)}function u(t){return function(){var n=this,o=arguments;return new Promise((function(i,e){var a=t.apply(n,o);function r(t){s(a,i,e,r,u,"next",t)}function u(t){s(a,i,e,r,u,"throw",t)}r(void 0)}))}}var c=function(t,n){var o,i,e,a,r={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,i&&(e=2&a[0]?i.return:a[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,a[1])).done)return e;switch(i=0,e&&(a=[2&a[0],e.value]),a[0]){case 0:case 1:e=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((e=(e=r.trys).length>0&&e[e.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!e||a[1]>e[0]&&a[1]<e[3])){r.label=a[1];break}if(6===a[0]&&r.label<e[1]){r.label=e[1],e=a;break}if(e&&r.label<e[2]){r.label=e[2],r.ops.push(a);break}e[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(t,r)}catch(t){a=[6,t],i=0}finally{o=e=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=105,p=null,f=null,d=null,h=null,y=!1;function m(){return v.apply(this,arguments)}function v(){return(v=u((function(){return c(this,(function(t){return[2,new Promise((function(t,n){var o=i.aNw.shared;o.add("rabbit","./assets/simpleSpriteSheet.json"),o.add("pixie","./assets/spine-assets/pixie.json"),o.onComplete.once((function(){t()})),o.onError.once((function(){n()})),o.load()}))]}))}))).apply(this,arguments)}window.onload=u((function(){var t,n,o,e,a;return c(this,(function(s){switch(s.label){case 0:return[4,m()];case 1:return s.sent(),(t=new i.MxU({backgroundColor:0,width:window.innerWidth,height:window.innerHeight})).renderer.resize(window.innerWidth,window.innerHeight),document.body.appendChild(t.view),n=b(),(o=document.createElement("video")).src="./assets/video_2023-04-05_00-59-02.mp4",o.autoplay=!0,o.loop=!0,o.muted=!0,document.body.appendChild(o),e=i.xEZ.from(o),(a=new i.jyi(e)).width=window.innerWidth,a.height=window.innerHeight,a.alpha=.5,t.stage.addChild(a),t.stage.addChild(n),r.on("resize",(function(n,o){t.renderer.resize(n,o),t.stage.width=n,t.stage.height=o,t.stage.scale.set(1,1),a.width=n,a.height=o})),[2]}}))}));var w=[["mayak","boat","star","fish"],["fish","star","star","mayak"],["star","star","fish","star"],["star","fish","boat","mayak"]],x={fish:"./assets/fish.png",star:"./assets/star.png",boat:"./assets/boat.png",mayak:"./assets/mayak.png"},g=function(t,n,o,a,r,s){var u=function(t){var n=t.target.width/2+t.target.position.x,o=t.target.height/2+t.target.position.y;f={x:n,y:o},(p=t.target)&&(p.zIndex=1e4,p.alpha=.5)},c=function(n){if(p&&(p.alpha=1),y){if(p&&d){var o=p.customData.position.x,i=p.customData.position.y;p.customData.position.x=d.customData.position.x,p.customData.position.y=d.customData.position.y,d.customData.position.x=o,d.customData.position.y=i,p.position.set(h.x-52.5,h.y-52.5)}}else p&&p.position.set(f.x-52.5,f.y-52.5);p=null,f=null,d=null,h=null,y=!1;var e=function(t){for(var n=function(n){for(var o=function(o){if(t[4*n+o].customData.type===a){if(++e>=3)for(var r=function(t){i.find((function(i){return i.x===n&&i.y===o-t}))||i.push({x:n,y:o-t,type:a})},s=0;s<e;s++)r(s)}else e=1,a=t[4*n+o].customData.type},e=1,a=t[4*n].customData.type,r=1;r<4;r++)o(r)},o=function(n){for(var o=function(o){if(t[4*o+n].customData.type===a){if(++e>=3)for(var r=function(t){i.find((function(i){return i.x===o-t&&i.y===n}))||i.push({x:o-t,y:n,type:a})},s=0;s<e;s++)r(s)}else e=1,a=t[4*o+n].customData.type},e=1,a=t[n].customData.type,r=1;r<4;r++)o(r)},i=[],e=0;e<4;e++)n(e);for(var a=0;a<4;a++)o(a);return i}(t.children.filter((function(t){return"figure"===t.customData.name})).sort((function(t,n){return t.customData.position.x-n.customData.position.x||t.customData.position.y-n.customData.position.y})));e.forEach((function(n){var o=t.children.find((function(t){return"figure"===t.customData.name&&t.customData.position.x===n.x&&t.customData.position.y===n.y}));o&&(n.xCoord=o.x,n.yCoord=o.y,console.log("удалилось"),o.destroy())})),console.log(e),e.forEach((function(n){console.log("добавилось");var o=g(t,n.x,n.y,n.xCoord,n.yCoord,!0);t.addChild(o)}))},m=function(n){var o=n.data.getLocalPosition(t);if(p){p.position.set(o.x-52.5,o.y-52.5);var i=p.getGlobalPosition(),e=t.children.find((function(t){var n;return"figure"===(null==t||null===(n=t.customData)||void 0===n?void 0:n.name)&&t.containsPoint({x:i.x+52.5,y:i.y+52.5})&&!(p.customData.position.x===t.customData.position.x&&p.customData.position.y===t.customData.position.y)}));if(t.children.find((function(t){var n;return"square"===(null==t||null===(n=t.customData)||void 0===n?void 0:n.name)&&t.containsPoint({x:i.x+52.5,y:i.y+52.5})&&p.customData.position.x===t.customData.position.x&&p.customData.position.y===t.customData.position.y})))return void(d&&h&&(d.alpha=1,d.position.set(h.x-52.5,h.y-52.5),y=!1));if(e)if(1===Math.abs(Math.abs(e.customData.position.x-p.customData.position.x)+Math.abs(e.customData.position.y-p.customData.position.y))){d&&(d.alpha=1,h&&(d.position.set(h.x-52.5,h.y-52.5),y=!1));var a=(d=e).width/2-d.position.x,r=d.height/2-d.position.y;h={x:a,y:r},d.alpha=.5,f&&(d.position.set(f.x-52.5,f.y-52.5),y=!0)}else d&&(d.alpha=1,h&&(d.position.set(h.x-52.5,h.y-52.5),y=!1));else d&&(d.alpha=1)}},v=Math.round(3*Math.random()),b=i.xEZ.from(s?Object.values(x)[v]:x[w[n][o]]),D=new i.jyi(b);return D.width=l,D.height=l,D.x=a,D.y=r,D.customData={name:"figure",type:s?Object.keys(x)[v]:w[n][o],position:{x:n,y:o}},D.alpha=0,e.ZP.to(D,{alpha:1,duration:1,ease:"power1.out",onComplete:function(){}}),D.interactive=!0,D.buttonMode=!0,D.on("mousedown",u),D.on("touchstart",u),D.on("mouseup",c),D.on("mouseupoutside",c),D.on("touchend",c),D.on("touchendoutside",c),D.on("mousemove",m),D.on("touchmove",m),D},b=function(){var t=i.xEZ.from("./assets/FRAME.png"),n=new i.jyi(t);n.anchor.set(.5,.5),n.position.set(window.innerWidth/2,window.innerHeight/2),n.width=400,n.height=400;for(var o=0;o<4;o++)for(var e=0;e<4;e++){var a=new i.TCu,s=o*l+7*o-219,u=e*l+7*e-219;a.beginFill(16777215),a.drawRect(s,u,l,l),a.endFill(),a.alpha=0,a.customData={name:"square",position:{x:o,y:e}};var c=g(n,o,e,s,u);n.addChild(a),n.addChild(c)}return n.interactive=!0,r.on("resize",(function(t,o){n.position.set(t/2,o/2)})),n}}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var a=o[t]={id:t,loaded:!1,exports:{}};return n[t].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=n,t=[],i.O=function(n,o,e,a){if(!o){var r=1/0;for(l=0;l<t.length;l++){o=t[l][0],e=t[l][1],a=t[l][2];for(var s=!0,u=0;u<o.length;u++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](o[u])}))?o.splice(u--,1):(s=!1,a<r&&(r=a));if(s){t.splice(l--,1);var c=e();void 0!==c&&(n=c)}}return n}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[o,e,a]},i.d=function(t,n){for(var o in n)i.o(n,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={179:0};i.O.j=function(n){return 0===t[n]};var n=function(n,o){var e,a,r=o[0],s=o[1],u=o[2],c=0;if(r.some((function(n){return 0!==t[n]}))){for(e in s)i.o(s,e)&&(i.m[e]=s[e]);if(u)var l=u(i)}for(n&&n(o);c<r.length;c++)a=r[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(l)},o=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var e=i.O(void 0,[746],(function(){return i(950)}));e=i.O(e)}();